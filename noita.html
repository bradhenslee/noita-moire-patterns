<!DOCTYPE html>
<html encoding="utf-8">
<head>
    <link rel="stylesheet" href="./styles/eyes.css">
    <link rel="stylesheet" href="./styles/dragula.css">
</head>
<body>
    <div class="buttons">
        <div class="options">

            <details>
                <summary>OPTIONS</summary>
                <details id="eyecolor-controls" class="custom-eye-colors">
                    <summary>Set Eye Colors by Direction</summary> 
                    <h5>Select a palate</h5> 
                    <input checked value="analogous" id="epalate-analogous" type="radio" onchange="setEyePalate('analogous')" name="epalate" /><label for="epalate-analogous">Analogous</label>
                    <input value="tetradic" id="epalate-tetradic" type="radio" onchange="setEyePalate('tetradic')" name="epalate" /><label for="epalate-tetradic">White+Tetradic</label>
                    <input value="monochromatic" id="epalate-mono" type="radio" onchange="setEyePalate('monochromatic')" name="epalate" /><label for="epalate-mono">Monochromatic</label>
                    <input value="basic" id="epalate-basic" type="radio" onchange="setEyePalate('basic')" name="epalate" /><label for="epalate-basic">Basic</label>
                    <h5>Set custom values:</h5> 
                    <input id="color-input-o" type="color" value="#ff0000" onchange="setEyeColor('o', value)" name="eye-open"/>
                    <input id="color-input-u" type="color" value="#0ff000" onchange="setEyeColor('u', value)" name="eye-up"/>
                    <input id="color-input-r" type="color" value="#fff000" onchange="setEyeColor('r', value)" name="eye-right"/>
                    <input id="color-input-d" type="color" value="#000ff0" onchange="setEyeColor('d', value)" name="eye-down"/>
                    <input id="color-input-l" type="color" value="#ff00f0" onchange="setEyeColor('l', value)" name="eye-left"/>
                </details>            
                <details class="arrows">
                    <summary>Adjust layer positions</summary>
                    <div>Use <kbd>Arrow Keys</kbd> to nudge selected layer 1px</div>
                    <select id="change-layer-selection" onchange="changeSelectedLayer(value)">
                        <option value="0">Diamond</option>
                        <option value="1">Layer 1</option>
                        <option value="2">Layer 2</option>
                        <option value="3">Layers 3/4</option>
                    </select>
                </details> 
                <details class="image-uploader">
                    <summary>Upload Custom Image</summary>
                    <h6>Files will only be shown in browser and will not be submitted online.</h6>          
                    <label class="image-uploader-drop" for="image_uploads">Drop image here to import
                        <input
                        type="file"
                        id="image_uploads"
                        name="image_uploads"
                        accept=".jpg, .jpeg, .png"
                        multiple />
                    </label>
                </details>
                    
                    <details>                      
                        <summary>How to see weird patterns</summary>
                        <p>On refresh, the nine "clouds" of Eye Glyphs are shown arranged vertically as Layer 1. You can reorder the clouds with drag and drop, and save the order to localstorage.  
                        </p>
                        <ul>
                            <li>Left <kbd>Click</kbd> to <strong>rotate 90˚</strong>. (not savable yet)</li>
                            <li><kbd>Shift</kbd>+<kbd>Click</kbd> to cause a cloud to overlap its neighbor above (1 click) or below (2 clicks), allowing exact "fitting" of clouds like W4 and E5. (not savable yet)</li>
                            <li>Click options to view mirrored and 90° rotated variants of Layer 1 (Layers 2 and 3/4).</li>
                            <li>Add additional images (you may need to manually correct CSS scaling)</li>
                            <li>Use the <kbd>Up</kbd>,<kbd>Down</kbd>,<kbd>Left</kbd>,and <kbd>Right</kbd> <kbd>Arrow Keys</kbd> to nudge layers 1px at a time.</li>
                        </ul>
                    </details>
                    <details>
                        <summary>What is this though</summary>
                        <h1>Noita Eye Glyphs Moiré pattern viewer</h1>
                        <p>This is a tool for investigating various mysteriously textured pixel art images from the game Noita (including the infamous Eye Glyphs), which produce striking Moiré patterns with stenographic capacity when viewed as stacked offset layers.</p>
                        <p>The app includes additional tools for the separate application of visualizing the eyes in base5 trigram shapes and with customizable eye background color rules.</p>
                    </details>
                    
            </details>
            
        </div>
        <input type="checkbox" onclick="changeHandler('cloudnames')" checked>Cloud Names</input>
        <input type="checkbox" onclick="changeHandler('hide-eye-colors')">Eye Colors</input>
        <input type="checkbox" onclick="changeHandler('diamond')">Hide Diamond</input>
        <input type="checkbox" onclick="changeHandler('trigrams')">Trigram Borders</input>
        <input type="checkbox" onclick="changeHandler('addlayer')">Layer 2 (Mirror)</input>
        <input type="checkbox" onclick="changeHandler('addmirroredlayer')">Layers 3+4 (1+3, rotated)</input>
        <button  onclick="changeHandler('saveorder')">Save Cloud Order</button>
        
    </div>
    <div class="page">
        <div id="messages" class="pulsate"></div>
             <div id="svg-cloud-layer-l" class="wrapper"></div>        
            <div id="mirror-layer">
                <div id="svg-cloud-layer-r" class="wrapper"></div>
        </div>
        <div id="layer3layer4"></div>
        <div id="diamond" class="show"></div>
        <div id="altars"></div>
        <div id="custom-image-layer"></div>  
        
    </div>
</div>
    <script src='./scripts/dragula.min.js'></script>
    <script src='./scripts/eyes.js'></script>

</body>

</html>